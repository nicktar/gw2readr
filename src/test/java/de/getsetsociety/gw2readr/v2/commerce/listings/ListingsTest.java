package de.getsetsociety.gw2readr.v2.commerce.listings;

import static org.junit.Assert.*;

import java.io.IOException;

import org.junit.Test;

import com.fasterxml.jackson.core.JsonParseException;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.fasterxml.jackson.databind.ObjectMapper;

import de.getsetsociety.gw2readr.v2.commerce.exchange.json.ExchangeJson;
import de.getsetsociety.gw2readr.v2.commerce.exchange.json.IExchange;

public class ListingsTest {

	private static ObjectMapper mapper = new ObjectMapper();

	/**
	 * Test the readability of a response with a valid amount
	 * @throws IOException
	 * @throws JsonMappingException
	 * @throws JsonParseException
	 */
	@Test
	public void testDemoJson() throws JsonParseException, JsonMappingException, IOException {
		String content = "{\"id\":19684,\"buys\":[{\"listings\":2,\"unit_price\":53,\"quantity\":166},{\"listings\":13,\"unit_price\":52,\"quantity\":3098},{\"listings\":31,\"unit_price\":51,\"quantity\":7709},{\"listings\":22,\"unit_price\":50,\"quantity\":5332},{\"listings\":24,\"unit_price\":49,\"quantity\":5638},{\"listings\":9,\"unit_price\":47,\"quantity\":2232},{\"listings\":12,\"unit_price\":45,\"quantity\":2870},{\"listings\":5,\"unit_price\":44,\"quantity\":1093},{\"listings\":15,\"unit_price\":43,\"quantity\":3698},{\"listings\":10,\"unit_price\":41,\"quantity\":2500},{\"listings\":9,\"unit_price\":39,\"quantity\":2250},{\"listings\":1,\"unit_price\":38,\"quantity\":250},{\"listings\":5,\"unit_price\":37,\"quantity\":1080},{\"listings\":10,\"unit_price\":36,\"quantity\":2500},{\"listings\":5,\"unit_price\":34,\"quantity\":1203},{\"listings\":2,\"unit_price\":32,\"quantity\":500},{\"listings\":7,\"unit_price\":31,\"quantity\":1750},{\"listings\":4,\"unit_price\":29,\"quantity\":1000},{\"listings\":1,\"unit_price\":27,\"quantity\":250},{\"listings\":5,\"unit_price\":26,\"quantity\":1250},{\"listings\":11,\"unit_price\":23,\"quantity\":2667},{\"listings\":3,\"unit_price\":22,\"quantity\":750},{\"listings\":4,\"unit_price\":21,\"quantity\":881},{\"listings\":6,\"unit_price\":19,\"quantity\":1500},{\"listings\":4,\"unit_price\":14,\"quantity\":992},{\"listings\":31,\"unit_price\":12,\"quantity\":7750},{\"listings\":12,\"unit_price\":10,\"quantity\":3000},{\"listings\":102,\"unit_price\":9,\"quantity\":7030},{\"listings\":1,\"unit_price\":5,\"quantity\":45},{\"listings\":23,\"unit_price\":1,\"quantity\":1962}],\"sells\":[{\"listings\":2,\"unit_price\":71,\"quantity\":182},{\"listings\":2,\"unit_price\":72,\"quantity\":350},{\"listings\":1,\"unit_price\":73,\"quantity\":250},{\"listings\":1,\"unit_price\":74,\"quantity\":39},{\"listings\":1,\"unit_price\":77,\"quantity\":50},{\"listings\":1,\"unit_price\":78,\"quantity\":200},{\"listings\":42,\"unit_price\":79,\"quantity\":9326},{\"listings\":77,\"unit_price\":80,\"quantity\":18575},{\"listings\":20,\"unit_price\":81,\"quantity\":5000},{\"listings\":70,\"unit_price\":82,\"quantity\":16698},{\"listings\":50,\"unit_price\":83,\"quantity\":11575},{\"listings\":18,\"unit_price\":84,\"quantity\":4239},{\"listings\":3,\"unit_price\":85,\"quantity\":372},{\"listings\":7,\"unit_price\":86,\"quantity\":1574},{\"listings\":78,\"unit_price\":87,\"quantity\":19151},{\"listings\":4,\"unit_price\":88,\"quantity\":844},{\"listings\":20,\"unit_price\":89,\"quantity\":4593},{\"listings\":66,\"unit_price\":90,\"quantity\":15621},{\"listings\":27,\"unit_price\":91,\"quantity\":6297},{\"listings\":44,\"unit_price\":92,\"quantity\":10319},{\"listings\":4,\"unit_price\":93,\"quantity\":585},{\"listings\":59,\"unit_price\":94,\"quantity\":12624},{\"listings\":54,\"unit_price\":95,\"quantity\":13049},{\"listings\":125,\"unit_price\":96,\"quantity\":30464},{\"listings\":6,\"unit_price\":97,\"quantity\":801},{\"listings\":58,\"unit_price\":98,\"quantity\":13574},{\"listings\":86,\"unit_price\":99,\"quantity\":19095},{\"listings\":50,\"unit_price\":100,\"quantity\":10949},{\"listings\":20,\"unit_price\":101,\"quantity\":4152},{\"listings\":7,\"unit_price\":102,\"quantity\":1087},{\"listings\":14,\"unit_price\":103,\"quantity\":2933},{\"listings\":21,\"unit_price\":104,\"quantity\":4223},{\"listings\":18,\"unit_price\":105,\"quantity\":3669},{\"listings\":3,\"unit_price\":106,\"quantity\":154},{\"listings\":2,\"unit_price\":108,\"quantity\":125},{\"listings\":18,\"unit_price\":109,\"quantity\":3587},{\"listings\":14,\"unit_price\":110,\"quantity\":2149},{\"listings\":4,\"unit_price\":111,\"quantity\":790},{\"listings\":3,\"unit_price\":112,\"quantity\":512},{\"listings\":1,\"unit_price\":113,\"quantity\":250},{\"listings\":3,\"unit_price\":114,\"quantity\":481},{\"listings\":8,\"unit_price\":115,\"quantity\":1105},{\"listings\":6,\"unit_price\":116,\"quantity\":881},{\"listings\":8,\"unit_price\":117,\"quantity\":1198},{\"listings\":11,\"unit_price\":118,\"quantity\":2508},{\"listings\":11,\"unit_price\":119,\"quantity\":2463},{\"listings\":29,\"unit_price\":120,\"quantity\":5596},{\"listings\":1,\"unit_price\":121,\"quantity\":43},{\"listings\":1,\"unit_price\":122,\"quantity\":161},{\"listings\":4,\"unit_price\":123,\"quantity\":866},{\"listings\":4,\"unit_price\":124,\"quantity\":600},{\"listings\":9,\"unit_price\":125,\"quantity\":1821},{\"listings\":2,\"unit_price\":126,\"quantity\":32},{\"listings\":12,\"unit_price\":128,\"quantity\":2533},{\"listings\":4,\"unit_price\":129,\"quantity\":894},{\"listings\":1,\"unit_price\":130,\"quantity\":250},{\"listings\":4,\"unit_price\":131,\"quantity\":618},{\"listings\":11,\"unit_price\":132,\"quantity\":2624},{\"listings\":14,\"unit_price\":133,\"quantity\":3106},{\"listings\":14,\"unit_price\":134,\"quantity\":3115},{\"listings\":68,\"unit_price\":135,\"quantity\":16497},{\"listings\":2,\"unit_price\":136,\"quantity\":278},{\"listings\":2,\"unit_price\":137,\"quantity\":147},{\"listings\":6,\"unit_price\":138,\"quantity\":1351},{\"listings\":5,\"unit_price\":139,\"quantity\":802},{\"listings\":18,\"unit_price\":140,\"quantity\":4297},{\"listings\":1,\"unit_price\":141,\"quantity\":34},{\"listings\":2,\"unit_price\":142,\"quantity\":264},{\"listings\":2,\"unit_price\":143,\"quantity\":260},{\"listings\":3,\"unit_price\":144,\"quantity\":688},{\"listings\":6,\"unit_price\":145,\"quantity\":953},{\"listings\":9,\"unit_price\":146,\"quantity\":2014},{\"listings\":5,\"unit_price\":147,\"quantity\":1148},{\"listings\":2,\"unit_price\":148,\"quantity\":500},{\"listings\":15,\"unit_price\":149,\"quantity\":3369},{\"listings\":36,\"unit_price\":150,\"quantity\":6220},{\"listings\":2,\"unit_price\":151,\"quantity\":500},{\"listings\":2,\"unit_price\":154,\"quantity\":260},{\"listings\":1,\"unit_price\":155,\"quantity\":250},{\"listings\":3,\"unit_price\":156,\"quantity\":748},{\"listings\":4,\"unit_price\":157,\"quantity\":1000},{\"listings\":11,\"unit_price\":158,\"quantity\":2750},{\"listings\":6,\"unit_price\":159,\"quantity\":1112},{\"listings\":4,\"unit_price\":160,\"quantity\":326},{\"listings\":1,\"unit_price\":161,\"quantity\":241},{\"listings\":2,\"unit_price\":162,\"quantity\":297},{\"listings\":1,\"unit_price\":163,\"quantity\":37},{\"listings\":3,\"unit_price\":164,\"quantity\":378},{\"listings\":3,\"unit_price\":165,\"quantity\":320},{\"listings\":6,\"unit_price\":166,\"quantity\":261},{\"listings\":3,\"unit_price\":167,\"quantity\":271},{\"listings\":6,\"unit_price\":168,\"quantity\":751},{\"listings\":2,\"unit_price\":169,\"quantity\":21},{\"listings\":13,\"unit_price\":170,\"quantity\":2614},{\"listings\":6,\"unit_price\":171,\"quantity\":1105},{\"listings\":1,\"unit_price\":172,\"quantity\":20},{\"listings\":5,\"unit_price\":173,\"quantity\":564},{\"listings\":1,\"unit_price\":174,\"quantity\":20},{\"listings\":10,\"unit_price\":175,\"quantity\":2029},{\"listings\":2,\"unit_price\":176,\"quantity\":7},{\"listings\":2,\"unit_price\":177,\"quantity\":10},{\"listings\":4,\"unit_price\":178,\"quantity\":321},{\"listings\":1,\"unit_price\":179,\"quantity\":231},{\"listings\":4,\"unit_price\":180,\"quantity\":315},{\"listings\":2,\"unit_price\":181,\"quantity\":68},{\"listings\":2,\"unit_price\":184,\"quantity\":313},{\"listings\":1,\"unit_price\":186,\"quantity\":205},{\"listings\":4,\"unit_price\":187,\"quantity\":364},{\"listings\":1,\"unit_price\":188,\"quantity\":233},{\"listings\":6,\"unit_price\":189,\"quantity\":1305},{\"listings\":11,\"unit_price\":190,\"quantity\":2357},{\"listings\":1,\"unit_price\":191,\"quantity\":6},{\"listings\":1,\"unit_price\":192,\"quantity\":2},{\"listings\":1,\"unit_price\":193,\"quantity\":8},{\"listings\":4,\"unit_price\":194,\"quantity\":572},{\"listings\":2,\"unit_price\":195,\"quantity\":49},{\"listings\":3,\"unit_price\":196,\"quantity\":301},{\"listings\":8,\"unit_price\":197,\"quantity\":1409},{\"listings\":6,\"unit_price\":198,\"quantity\":966},{\"listings\":32,\"unit_price\":199,\"quantity\":7020},{\"listings\":41,\"unit_price\":200,\"quantity\":7979},{\"listings\":2,\"unit_price\":201,\"quantity\":272},{\"listings\":4,\"unit_price\":202,\"quantity\":326},{\"listings\":6,\"unit_price\":203,\"quantity\":875},{\"listings\":2,\"unit_price\":205,\"quantity\":101},{\"listings\":4,\"unit_price\":206,\"quantity\":751},{\"listings\":3,\"unit_price\":208,\"quantity\":236},{\"listings\":2,\"unit_price\":210,\"quantity\":500},{\"listings\":1,\"unit_price\":212,\"quantity\":235},{\"listings\":1,\"unit_price\":214,\"quantity\":125},{\"listings\":2,\"unit_price\":215,\"quantity\":58},{\"listings\":4,\"unit_price\":218,\"quantity\":812},{\"listings\":1,\"unit_price\":220,\"quantity\":45},{\"listings\":1,\"unit_price\":221,\"quantity\":250},{\"listings\":1,\"unit_price\":223,\"quantity\":85},{\"listings\":1,\"unit_price\":227,\"quantity\":14},{\"listings\":1,\"unit_price\":230,\"quantity\":250},{\"listings\":1,\"unit_price\":235,\"quantity\":3},{\"listings\":1,\"unit_price\":236,\"quantity\":130},{\"listings\":1,\"unit_price\":240,\"quantity\":2},{\"listings\":1,\"unit_price\":243,\"quantity\":1},{\"listings\":1,\"unit_price\":245,\"quantity\":1},{\"listings\":1,\"unit_price\":246,\"quantity\":96},{\"listings\":1,\"unit_price\":248,\"quantity\":63},{\"listings\":1,\"unit_price\":249,\"quantity\":1},{\"listings\":13,\"unit_price\":250,\"quantity\":2810},{\"listings\":2,\"unit_price\":255,\"quantity\":264},{\"listings\":1,\"unit_price\":256,\"quantity\":9},{\"listings\":2,\"unit_price\":258,\"quantity\":289},{\"listings\":1,\"unit_price\":264,\"quantity\":250},{\"listings\":1,\"unit_price\":265,\"quantity\":21},{\"listings\":3,\"unit_price\":268,\"quantity\":750},{\"listings\":3,\"unit_price\":270,\"quantity\":656},{\"listings\":4,\"unit_price\":271,\"quantity\":961},{\"listings\":1,\"unit_price\":273,\"quantity\":46},{\"listings\":1,\"unit_price\":275,\"quantity\":1},{\"listings\":1,\"unit_price\":276,\"quantity\":176},{\"listings\":2,\"unit_price\":277,\"quantity\":129},{\"listings\":1,\"unit_price\":278,\"quantity\":10},{\"listings\":1,\"unit_price\":279,\"quantity\":2},{\"listings\":1,\"unit_price\":282,\"quantity\":3},{\"listings\":1,\"unit_price\":285,\"quantity\":4},{\"listings\":1,\"unit_price\":287,\"quantity\":30},{\"listings\":1,\"unit_price\":292,\"quantity\":51},{\"listings\":1,\"unit_price\":293,\"quantity\":39},{\"listings\":1,\"unit_price\":294,\"quantity\":16},{\"listings\":2,\"unit_price\":296,\"quantity\":389},{\"listings\":4,\"unit_price\":299,\"quantity\":480},{\"listings\":32,\"unit_price\":300,\"quantity\":7503},{\"listings\":1,\"unit_price\":302,\"quantity\":33},{\"listings\":2,\"unit_price\":305,\"quantity\":94},{\"listings\":2,\"unit_price\":306,\"quantity\":251},{\"listings\":1,\"unit_price\":311,\"quantity\":10},{\"listings\":1,\"unit_price\":313,\"quantity\":76},{\"listings\":1,\"unit_price\":315,\"quantity\":34},{\"listings\":1,\"unit_price\":317,\"quantity\":11},{\"listings\":3,\"unit_price\":319,\"quantity\":72},{\"listings\":1,\"unit_price\":331,\"quantity\":1},{\"listings\":1,\"unit_price\":334,\"quantity\":6},{\"listings\":2,\"unit_price\":335,\"quantity\":118},{\"listings\":1,\"unit_price\":341,\"quantity\":20},{\"listings\":3,\"unit_price\":350,\"quantity\":750},{\"listings\":1,\"unit_price\":353,\"quantity\":1},{\"listings\":1,\"unit_price\":356,\"quantity\":250},{\"listings\":1,\"unit_price\":359,\"quantity\":1},{\"listings\":2,\"unit_price\":361,\"quantity\":430},{\"listings\":1,\"unit_price\":368,\"quantity\":40},{\"listings\":1,\"unit_price\":369,\"quantity\":1},{\"listings\":1,\"unit_price\":371,\"quantity\":1},{\"listings\":1,\"unit_price\":373,\"quantity\":1},{\"listings\":10,\"unit_price\":375,\"quantity\":2352},{\"listings\":1,\"unit_price\":384,\"quantity\":7},{\"listings\":1,\"unit_price\":385,\"quantity\":27},{\"listings\":1,\"unit_price\":390,\"quantity\":178},{\"listings\":1,\"unit_price\":397,\"quantity\":31},{\"listings\":3,\"unit_price\":400,\"quantity\":151},{\"listings\":1,\"unit_price\":401,\"quantity\":23},{\"listings\":1,\"unit_price\":405,\"quantity\":26},{\"listings\":1,\"unit_price\":410,\"quantity\":83},{\"listings\":2,\"unit_price\":415,\"quantity\":35},{\"listings\":1,\"unit_price\":416,\"quantity\":9},{\"listings\":1,\"unit_price\":417,\"quantity\":1},{\"listings\":1,\"unit_price\":426,\"quantity\":6},{\"listings\":1,\"unit_price\":432,\"quantity\":1},{\"listings\":1,\"unit_price\":438,\"quantity\":1},{\"listings\":1,\"unit_price\":440,\"quantity\":1},{\"listings\":2,\"unit_price\":450,\"quantity\":66},{\"listings\":1,\"unit_price\":456,\"quantity\":150},{\"listings\":3,\"unit_price\":462,\"quantity\":542},{\"listings\":1,\"unit_price\":464,\"quantity\":50},{\"listings\":1,\"unit_price\":466,\"quantity\":28},{\"listings\":1,\"unit_price\":473,\"quantity\":5},{\"listings\":1,\"unit_price\":483,\"quantity\":250},{\"listings\":1,\"unit_price\":485,\"quantity\":1},{\"listings\":1,\"unit_price\":486,\"quantity\":4},{\"listings\":1,\"unit_price\":490,\"quantity\":1},{\"listings\":1,\"unit_price\":492,\"quantity\":250},{\"listings\":1,\"unit_price\":494,\"quantity\":43},{\"listings\":1,\"unit_price\":495,\"quantity\":104},{\"listings\":8,\"unit_price\":500,\"quantity\":1794},{\"listings\":1,\"unit_price\":503,\"quantity\":163},{\"listings\":1,\"unit_price\":514,\"quantity\":126},{\"listings\":2,\"unit_price\":517,\"quantity\":332},{\"listings\":1,\"unit_price\":545,\"quantity\":3},{\"listings\":2,\"unit_price\":546,\"quantity\":115},{\"listings\":4,\"unit_price\":554,\"quantity\":956},{\"listings\":1,\"unit_price\":558,\"quantity\":1},{\"listings\":1,\"unit_price\":575,\"quantity\":44},{\"listings\":1,\"unit_price\":580,\"quantity\":2},{\"listings\":1,\"unit_price\":584,\"quantity\":37},{\"listings\":1,\"unit_price\":585,\"quantity\":1},{\"listings\":1,\"unit_price\":587,\"quantity\":10},{\"listings\":5,\"unit_price\":599,\"quantity\":1250},{\"listings\":1,\"unit_price\":619,\"quantity\":1},{\"listings\":1,\"unit_price\":639,\"quantity\":10},{\"listings\":1,\"unit_price\":663,\"quantity\":5},{\"listings\":2,\"unit_price\":679,\"quantity\":304},{\"listings\":29,\"unit_price\":697,\"quantity\":7210},{\"listings\":1,\"unit_price\":700,\"quantity\":17},{\"listings\":1,\"unit_price\":711,\"quantity\":23},{\"listings\":1,\"unit_price\":771,\"quantity\":45},{\"listings\":1,\"unit_price\":793,\"quantity\":250},{\"listings\":1,\"unit_price\":803,\"quantity\":162},{\"listings\":1,\"unit_price\":818,\"quantity\":12},{\"listings\":1,\"unit_price\":905,\"quantity\":111},{\"listings\":1,\"unit_price\":910,\"quantity\":50},{\"listings\":1,\"unit_price\":939,\"quantity\":8},{\"listings\":1,\"unit_price\":979,\"quantity\":6},{\"listings\":1,\"unit_price\":994,\"quantity\":2},{\"listings\":2,\"unit_price\":995,\"quantity\":500},{\"listings\":1,\"unit_price\":999,\"quantity\":190},{\"listings\":1,\"unit_price\":1000,\"quantity\":239},{\"listings\":1,\"unit_price\":1003,\"quantity\":8},{\"listings\":1,\"unit_price\":1016,\"quantity\":2},{\"listings\":1,\"unit_price\":1020,\"quantity\":72},{\"listings\":1,\"unit_price\":1025,\"quantity\":20},{\"listings\":1,\"unit_price\":1040,\"quantity\":8},{\"listings\":1,\"unit_price\":1050,\"quantity\":9},{\"listings\":1,\"unit_price\":1051,\"quantity\":202},{\"listings\":1,\"unit_price\":1076,\"quantity\":250},{\"listings\":1,\"unit_price\":1081,\"quantity\":15},{\"listings\":1,\"unit_price\":1087,\"quantity\":231},{\"listings\":2,\"unit_price\":1090,\"quantity\":31},{\"listings\":1,\"unit_price\":1095,\"quantity\":46},{\"listings\":1,\"unit_price\":1107,\"quantity\":203},{\"listings\":1,\"unit_price\":1122,\"quantity\":1},{\"listings\":1,\"unit_price\":1200,\"quantity\":1},{\"listings\":1,\"unit_price\":1251,\"quantity\":65},{\"listings\":1,\"unit_price\":1299,\"quantity\":250},{\"listings\":1,\"unit_price\":1333,\"quantity\":31},{\"listings\":1,\"unit_price\":1363,\"quantity\":1},{\"listings\":1,\"unit_price\":1376,\"quantity\":17},{\"listings\":1,\"unit_price\":1600,\"quantity\":55},{\"listings\":1,\"unit_price\":1763,\"quantity\":10},{\"listings\":1,\"unit_price\":1954,\"quantity\":1},{\"listings\":1,\"unit_price\":2086,\"quantity\":14},{\"listings\":1,\"unit_price\":2305,\"quantity\":1},{\"listings\":1,\"unit_price\":2368,\"quantity\":1},{\"listings\":1,\"unit_price\":2399,\"quantity\":1},{\"listings\":1,\"unit_price\":2595,\"quantity\":24},{\"listings\":1,\"unit_price\":2612,\"quantity\":1},{\"listings\":1,\"unit_price\":3101,\"quantity\":1},{\"listings\":1,\"unit_price\":3334,\"quantity\":9},{\"listings\":1,\"unit_price\":3346,\"quantity\":1},{\"listings\":1,\"unit_price\":3501,\"quantity\":1},{\"listings\":1,\"unit_price\":3600,\"quantity\":1},{\"listings\":1,\"unit_price\":3626,\"quantity\":13},{\"listings\":1,\"unit_price\":3710,\"quantity\":1},{\"listings\":1,\"unit_price\":3855,\"quantity\":6},{\"listings\":1,\"unit_price\":3956,\"quantity\":38},{\"listings\":1,\"unit_price\":4085,\"quantity\":1},{\"listings\":1,\"unit_price\":4115,\"quantity\":5},{\"listings\":1,\"unit_price\":4337,\"quantity\":4},{\"listings\":1,\"unit_price\":4600,\"quantity\":48},{\"listings\":1,\"unit_price\":5064,\"quantity\":108},{\"listings\":1,\"unit_price\":5500,\"quantity\":45},{\"listings\":1,\"unit_price\":6413,\"quantity\":6},{\"listings\":1,\"unit_price\":6418,\"quantity\":1},{\"listings\":1,\"unit_price\":6856,\"quantity\":109},{\"listings\":1,\"unit_price\":7660,\"quantity\":53},{\"listings\":1,\"unit_price\":8001,\"quantity\":1},{\"listings\":1,\"unit_price\":9000,\"quantity\":42},{\"listings\":1,\"unit_price\":9905,\"quantity\":13},{\"listings\":1,\"unit_price\":10000,\"quantity\":1},{\"listings\":1,\"unit_price\":10062,\"quantity\":10},{\"listings\":1,\"unit_price\":10068,\"quantity\":6},{\"listings\":1,\"unit_price\":30000,\"quantity\":57},{\"listings\":1,\"unit_price\":41347,\"quantity\":1}]}";
		ListingsJson json = mapper.readValue(content, ListingsJson.class);
		assertNotNull(json);
	}




	/**
	 * Test the readability of a response with an invalid amount
	 * @throws IOException
	 * @throws JsonMappingException
	 * @throws JsonParseException
	 */
	@Test
	public void testBuyCoinsWith1Gem() throws JsonParseException, JsonMappingException, IOException {
		ExchangeJson json = null;
		json = mapper.readValue("{\"text\":\"ExchangeState: amount offered is insufficient for exchange\"}", ExchangeJson.class);

		IExchange exchange = json.getEntity();
		assertNull(exchange.getCoinsPerGem());
		assertNull(exchange.getQuantity());
		assertTrue(json.getAdditionalProperties().containsKey("text"));
		assertEquals("ExchangeState: amount offered is insufficient for exchange", json.getAdditionalProperties().get("text"));
	}
}
